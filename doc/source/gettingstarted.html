{% extends "_base.html" %}

{% block title %}pywebgen / getting started{% endblock %}

{% block contents %}

<img class="intro" src="images/gettingstarted.jpg" />

<p class="intro">Getting started with pywebgen is quite simple. This
  section will show you how to create your first pywebgen powered
  website.</p>

<h2 id="creating-the-website">Creating the website</h2>

<p>In this guide we'll use the simplest form of pywebgen, a fully
  integrated environment that simplifies managing your static
  website. To create it, use the <tt>startsite</tt> command:</p>

<pre>
$ pywebgen startsite demo
</pre>

<p>This creates a <tt>demo</tt> directory, containing the following:</p>

<ul>
  <li><tt>source</tt>: the website's source (obviously).</li>

  <li><tt>versions</tt>: contains the successive versions of the
    generated site. You shouldn't have to poke in here directly, so
    don't worry about it.</li>

  <li><tt>current</tt>: this symbolic link points to the generated
    version that is marked as the current "live" version.</li>

  <li><tt>latest</tt>: this symbolis link always points to the last
    generated version of the site.</li>

  <li><tt>pwg</tt>: a simplified version of <tt>pywebgen</tt> that you
    will use to manage this site.</li>
</ul>

<p>If you point your web browser to the <tt>latest</tt> directory, you
  should get an empty directory listing. Congratulations, that is your
  first generated website!</p>

<p>Of course, since there are no sources, the generated site is also
  quite empty. Let's remedy that.</p>

<h2 id="a-first-page">A first page</h2>

<p>Create the file <tt>demo/source/index.html</tt>, containing the
  following:</p>

<pre class="prettyprint">{% filter escape %}{% raw %}
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
   "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en-us">
  <head>
    <title>Hello world!</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  </head>
  <body>
    <h1>Hello world!</h1>

    <p>This page was generated by pywebgen on {{timestamp}}.</p>
  </body>
</html>
{% endraw %}{% endfilter %}</pre>

<p>Now, regenerate your website:</p>

<pre>
$ ./pwg generate
Generated version 20081220-231049
</pre>

<p>Pywebgen tells you when you execute that command that it generated
  a new version of your website, and gives you the timestamp of that
  version. Now, if you refresh the browser you had pointed at
  the <tt>latest</tt> directory, you should get your hello world
  back!</p>

<p>Note that while the page is mostly HTML, we're already using a
  little bit of the template engine: when you wrote
  <tt>{{'{{'}}timestamp{{'}}'}}</tt> in the page, pywebgen replaced
  this with the date and time at which the final page was
  generated.</p>

<h2 id="the-development-webserver">The development webserver</h2>

<p>You may be thinking at this point that regenerating every few
  seconds while you're tweaking your site is a bit cumbersome. For
  this reason, pywebgen comes with a small embedded webserver that
  takes away that annoyance. While you're hacking on your website,
  simply boot the development webserver:</p>

<pre>
$ ./pwg devel
Listening on http://localhost:8000/
</pre>

<p>As <tt>pwg</tt> tells you, your generated website is now being
  served on {{"http://localhost:8000"|urlize}}. It will automatically
  regenerate the site periodically, so you can simply hit refresh
  while you're developing and see your changes reflected immediately!</p>

<p>The development versions of the website are not stored permanently,
  and all trace of them will be deleted when you shut down the
  development webserver. Therefore, once you're happy with what you
  have, you should still generate a "final" version using <tt>pwg
  generate</tt>.</p>

<script type="text/javascript">
$(document).ready(function() {
  if ($('#contents h2').length> 1) {
    $('<h2>Table of contents</h2>')
      .insertBefore('h2:first')
      .after('<ul id="toc"></ul>');

    $('#contents h2:not(:first)').each(function(index) {
      $('<li></li>').appendTo('#toc');
      $('<a></a>')
        .attr({ 'href': '#' + this.id })
        .html($(this).html())
        .appendTo('#toc li:last');
    });
  }
});
</script>

{% endblock %}
